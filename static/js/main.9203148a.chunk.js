(this["webpackJsonplivebarn-app"]=this["webpackJsonplivebarn-app"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),i=a(175),o=(a(98),a(99),a(17)),d=a(16),l=a(180),u=a(152),b=a(158),j=a(157),f=a(156),p=a(80),h=a.n(p),m=a(159),O=a(160),x=a(4),g=Object(u.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerHeader:Object(o.a)(Object(o.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),drawerPaper:{width:240},ListItem:{textAlign:"center",color:"white",width:"70%",margin:"10px auto",borderRadius:"5px",backgroundColor:"#2196f3","&:hover":{color:"white",backgroundColor:"#1769aa"},"&$selected":{backgroundColor:"#1769aa",color:"white","&:hover":{color:"white",backgroundColor:"#1769aa"}}},selected:{}}})),v=function(e){var t=e.open,a=e.componentHandler,n=e.selectedComponent,r=g();return Object(x.jsxs)(l.a,{className:r.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:r.drawerPaper},children:[Object(x.jsx)("div",{className:r.drawerHeader,children:Object(x.jsx)(f.a,{onClick:e.closeDrawerHandler,children:Object(x.jsx)(h.a,{})})}),Object(x.jsx)(j.a,{}),Object(x.jsx)(b.a,{children:[{name:"Empty Page",id:"emptyPage"},{name:"Data",id:"dataPage"}].map((function(e,t){return Object(x.jsx)(m.a,{button:!0,selected:n===e.id,classes:{root:r.ListItem,selected:r.selected},onClick:function(t){return a(t,e.id)},children:Object(x.jsx)(O.a,{primary:e.name})},e.id)}))})]})},w=a(37),S=a(161),C=a(3),y=a(162),D=a(81),H=a.n(D),k=Object(u.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:e.spacing(2)},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"}}})),I=function(e){var t=e.shiftHeader,a=k();return Object(x.jsx)(S.a,{style:{backgroundColor:"#2196f3"},position:"fixed",className:Object(C.a)(a.appBar,Object(w.a)({},a.appBarShift,t)),children:Object(x.jsx)(y.a,{children:Object(x.jsx)(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:e.openDrawerHandler,className:Object(C.a)(a.menuButton,t&&a.hide),children:Object(x.jsx)(H.a,{})})})})},P=Object(u.a)((function(e){return{drawerHeader:Object(o.a)(Object(o.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),N=function(e){var t=P(),a=e.open;return Object(x.jsxs)("main",{className:Object(C.a)(t.content,Object(w.a)({},t.contentShift,a)),children:[Object(x.jsx)("div",{className:t.drawerHeader}),e.children]})},B=a(108),L=a(49),R=function(){return Object(x.jsx)(B.a,{style:{height:"85vh",padding:"10px"},children:Object(x.jsx)(L.a,{style:{textAlign:"center"},variant:"h5",gutterBottom:!0,children:"This Page is Empty."})})},F=Object(u.a)({root:{backgroundColor:"#1769aa",minHeight:"82vh",borderRadius:"5px",color:"#fff"}}),E=function(e){var t=F();return Object(x.jsx)("div",{className:t.root,children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)(m.a,{style:{paddingBottom:"0px"},children:Object(x.jsx)(O.a,{children:Object(x.jsx)(L.a,{component:"h6",gutterBottom:!0,children:"Details"})})}),Object(x.jsx)(j.a,{style:{backgroundColor:"#fff"}}),[{name:"Venue Name",parameter:"venueName"},{name:"Surface Name",parameter:"surfaceName"},{name:"Sport",parameter:"sport"},{name:"Status",parameter:"status"},{name:"Server Ip",parameter:"serverIp"}].map((function(t,a){return Object(x.jsx)(m.a,{children:Object(x.jsxs)(O.a,{children:[Object(x.jsxs)(L.a,{component:"p",gutterBottom:!0,style:{fontSize:"0.9rem"},children:[t.name,":"]}),Object(x.jsx)(L.a,{variant:"body2",style:{fontSize:"0.9rem",marginTop:"0px",maeginBottom:"0px"},children:e.details[t.parameter]})]})},t.name)}))]})})},A=a(172),T=a(164),z=a(168),M=a(166),V=a(167),J=a(165),W=a(181),$=a(163),G=Object(u.a)((function(e){return{table:{border:"2px solid #eee",maxHeight:"500px","& thead th":{border:"1px solid #eee",padding:"15px",fontWeight:"bold",color:"black",backgroundColor:"#eee"},"& tbody td":{fontWeight:300},"& tbody tr:hover":{backgroundColor:"#64b5f6",cursor:"pointer"}}}})),q=function(e){var t=G(0),a=e.tableData,r=[10,50,100,a.length].sort((function(e,t){return e-t})),c=Object(n.useState)(0),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(r[0]),u=Object(d.a)(l,2),b=u[0],j=u[1];Object(n.useEffect)((function(){j(r[i])}),[a.length]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($.a,{style:{maxHeight:"420px",marginTop:"15px"},children:Object(x.jsxs)(T.a,{stickyHeader:!0,"aria-label":"data table",className:t.table,classes:{selected:t.selected},children:[Object(x.jsx)(J.a,{children:Object(x.jsx)(M.a,{children:e.tableHead.map((function(e){return Object(x.jsx)(V.a,{children:e.label},e.id)}))})}),Object(x.jsx)(z.a,{children:a.slice(i*b,(i+1)*b).map((function(t,a){return Object(x.jsx)(M.a,{selected:e.selectedRow.id===t.id,style:e.selectedRow.id===t.id?{backgroundColor:"#2196f3"}:null,onClick:function(a){return e.selectHandler(a,t)},children:e.tableHead.map((function(a){return Object(x.jsx)(V.a,{style:e.selectedRow.id===t.id?{color:"#fff"}:null,children:t[a.id]},a.id)}))},t.id)}))})]})}),Object(x.jsx)(W.a,{onChangeRowsPerPage:function(e){j(parseInt(e.target.value,10)),o(0)},onChangePage:function(e,t){o(t)},component:"div",page:i,count:a.length,rowsPerPage:b,rowsPerPageOptions:r})]})},K=function(e){return Object(x.jsx)(x.Fragment,{children:e.surfaceData.length>0?Object(x.jsx)(q,{selectHandler:e.selectSurfaceHandler,selectedRow:e.selectedSurface,tableHead:[{id:"venueName",label:"Venue Name"},{id:"surfaceName",label:"Surface Name"},{id:"sport",label:"Sport"},{id:"status",label:"Status"}],tableData:e.surfaceData}):null})},Q=function(e){var t=Object(n.useState)(e.selectedSurface.server),a=Object(d.a)(t,2),r=a[0],c=a[1],s=Array.from(e.serverData.keys()).map((function(t){return e.serverData.get(t)}));e.selectedSurface.server;return Object(x.jsx)(x.Fragment,{children:s.length>0?Object(x.jsx)(q,{selectHandler:function(e,t){c(t)},selectedRow:r,tableHead:[{id:"ip4",label:"Ip4"},{id:"dns",label:"Dns"}],tableData:s}):null})},U=a(178),X=a(171),Y=Object(u.a)({tabs:{backgroundColor:"#fff",boxShadow:"none",paddingTop:"0px",color:"black","&$selected":{backgroundColor:"red",color:"white"}},indicator:{backgroundColor:"#1769aa"},tabActive:{border:"2px solid #1769aa",borderBottom:"none",borderRadius:"2px",color:"#1769aa"},tab:{margin:"0px 0px","&:hover":{backgroundColor:"#fff"}}}),Z=function(e){var t=Y();return Object(x.jsx)(S.a,{position:"static",children:Object(x.jsx)(U.a,{classes:{indicator:t.indicator,root:t.tabs},value:e.tabId,onChange:function(t,a){return e.handleChange(t,a)},"aria-label":"simple tabs example",children:[{tabId:"surfaces",name:"Surfaces"},{tabId:"servers",name:"Servers"}].map((function(a){return Object(x.jsx)(X.a,{classes:{root:t.tab},id:a.tabId,value:a.tabId,className:e.tabId===a.tabId?t.tabActive:null,label:a.name},a.tabId)}))})})},_=a(179),ee=a(174),te=a(173),ae=r.a.createContext({surfaceData:[],serverData:new Map}),ne=function(){var e=Object(n.useContext)(ae),t=[],a=new Map,r=Object(n.useState)({id:"surfaces"}),c=Object(d.a)(r,2),s=c[0],i=c[1],l=Object(n.useState)({}),u=Object(d.a)(l,2),b=u[0],j=u[1],f=Object(n.useState)(null),p=Object(d.a)(f,2),h=p[0],m=p[1];Object(n.useEffect)((function(){e.surfaceData.length>0&&!b.id&&j(e.surfaceData[0])}),[e.surfaceData]);null===h?(t=e.surfaceData,a=e.serverData):t=e.surfaceData.filter((function(e){return!a.has(e.server.id)&&e.venueName.toLowerCase().includes(h.toLowerCase())&&a.set(e.server.id,e.server),e.venueName.toLowerCase().includes(h.toLowerCase())}));var O="surfaces"===s.id?Object(x.jsx)(K,{surfaceData:t,selectSurfaceHandler:function(e,t){j(t)},selectedSurface:b}):Object(x.jsx)(Q,{serverData:a,selectedSurface:b});return Object(x.jsx)(x.Fragment,{children:e.error?Object(x.jsx)("p",{style:{color:"red"},children:"Something went wrong"}):Object(x.jsx)(B.a,{style:{minHeight:"85vh",padding:"10px"},children:Object(x.jsxs)(A.a,{container:!0,spacing:3,children:[Object(x.jsxs)(A.a,{item:!0,xs:12,sm:12,md:9,children:[Object(x.jsx)(y.a,{style:{padding:"0px"},children:Object(x.jsx)(_.a,{onChange:function(e){m(e.target.value)},size:"small",style:{width:"100%",marginBottom:"15px"},placeholder:"Search Venue Name",InputProps:{startAdornment:Object(x.jsx)(te.a,{position:"start",children:Object(x.jsx)(ee.a,{})})},id:"search-surface",variant:"outlined"})}),Object(x.jsx)(Z,{tabId:s.id,handleChange:function(e,t){i("surfaces"===t?function(e){return{id:"surfaces"}}:function(e){return{id:"servers"}})}}),O]}),Object(x.jsx)(A.a,{item:!0,xs:12,sm:12,md:3,children:Object(x.jsx)(E,{details:b.id?Object(o.a)(Object(o.a)({},b),{},{serverIp:b.server.ip4}):b})})]})})})};a(105);var re=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({component:R,id:"emptyPage"}),s=Object(d.a)(c,2),i=s[0],l=s[1];return Object(x.jsxs)("div",{style:{display:"flex"},children:[Object(x.jsx)(I,{shiftHeader:a,openDrawerHandler:function(){r(!0)}}),Object(x.jsx)(v,{open:a,closeDrawerHandler:function(){r(!1)},componentHandler:function(e,t){var a={};"emptyPage"===t?(a.component=R,a.id="emptyPage"):(a.component=ne,a.id="dataPage"),l(Object(o.a)({},a))},selectedComponent:i.id}),Object(x.jsx)(N,{open:a,children:Object(x.jsx)(i.component,{})})]})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,184)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},se=a(82),ie=function(e){var t=Object(n.useState)({surfaceData:[],serverData:new Map}),a=Object(d.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){var e=setInterval(function e(){return fetch("https://2hsjstzo71.execute-api.us-east-1.amazonaws.com/prod/livebarn-interview-project").then((function(e){return e.json()})).then((function(e){var t=e,a=new Map;t.forEach((function(e){a.has(e.server.id)||a.set(e.server.id,e.server)})),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{surfaceData:Object(se.a)(t),serverData:a})})),u(!1)})).catch((function(e){return u(!0)})),e}(),6e4);return function(){clearInterval(e)}}),[]),Object(x.jsx)(ae.Provider,{value:{surfaceData:r.surfaceData,serverData:r.serverData,error:l},children:e.children})};s.a.render(Object(x.jsxs)(r.a.StrictMode,{children:[Object(x.jsx)(i.a,{}),Object(x.jsx)(ie,{children:Object(x.jsx)(re,{})})]}),document.getElementById("root")),ce()},98:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.9203148a.chunk.js.map